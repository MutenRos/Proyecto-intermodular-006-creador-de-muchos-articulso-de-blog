<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Pipeline â€” Blog Generator</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

  <header class="w-900 card flex fd-col g-16">
    <div class="flex fd-col g-6">
      <h1 style="font-size:28px">ğŸ¤– Blog Generator</h1>
      <h2 class="fs-14 c-muted" style="font-weight:normal">GeneraciÃ³n masiva de artÃ­culos con Ollama + Python + SQLite</h2>
    </div>
    <nav class="flex g-10 fa-center fw-wrap">
      <a href="index.html" class="btn btn-ghost">Inicio</a>
      <a href="pipeline.html" class="btn btn-ghost" style="border-color:var(--brand);color:var(--brand)">Pipeline</a>
      <a href="articulos.html" class="btn btn-ghost">ArtÃ­culos</a>
      <a href="tecnologias.html" class="btn btn-ghost">TecnologÃ­as</a>
      <a href="blog.html" class="btn btn-brand">Blog de ejemplo</a>
    </nav>
  </header>

  <main class="w-900 card flex fd-col g-24" style="margin-top:16px">

    <h2 class="fs-22">Pipeline de generaciÃ³n</h2>

    <!-- Diagrama visual -->
    <div class="pipeline">
      <div class="step">ğŸ“„ .md</div><span class="arrow">â†’</span>
      <div class="step">ğŸ” H1/H2/H3</div><span class="arrow">â†’</span>
      <div class="step">ğŸ“ Prompt</div><span class="arrow">â†’</span>
      <div class="step">ğŸ§  Ollama</div><span class="arrow">â†’</span>
      <div class="step">ğŸ’¾ CachÃ© JSON</div><span class="arrow">â†’</span>
      <div class="step">ğŸ—ƒï¸ SQLite</div>
    </div>

    <!-- Paso 1 -->
    <section class="flex fd-col g-10">
      <h3 class="fs-18">1. Lectura del corpus</h3>
      <p class="ta-justify lh-24">El script escanea <code>documentos/</code> buscando archivos <code>.md</code>. Cada uno contiene un curso completo con front-matter YAML (slug, nivel, prerrequisitos) y contenido jerÃ¡rquico con headings H1, H2 y H3.</p>
      <pre><code>md_files = sorted([p for p in DOCS_DIR.glob("*.md") if p.is_file()])
# â†’ 60+ archivos: "AnÃ¡lisis de sentimiento.md", "PyTorch desde cero.md", ...</code></pre>
    </section>

    <!-- Paso 2 -->
    <section class="flex fd-col g-10">
      <h3 class="fs-18">2. ExtracciÃ³n de jerarquÃ­a</h3>
      <p class="ta-justify lh-24">Para cada documento, se recorren las lÃ­neas y se rastrean los headings actuales. Cada H3 genera un <code>H3Item</code> con el tÃ­tulo limpio (sin numeraciÃ³n) y una categorÃ­a compuesta: <code>"Archivo, H1, H2"</code>.</p>
      <pre><code>category = f"{file_stem}, {h1_current}, {h2_current}"
# â†’ "AnÃ¡lisis de sentimiento, Unidad 1, 1.1 â€” DefiniciÃ³n y alcance"</code></pre>
    </section>

    <!-- Paso 3 -->
    <section class="flex fd-col g-10">
      <h3 class="fs-18">3. GeneraciÃ³n con Ollama</h3>
      <p class="ta-justify lh-24">Se construye un prompt que incluye el documento completo como contexto, la categorÃ­a y el tÃ­tulo. El modelo genera un artÃ­culo de 900-1400 palabras con estructura didÃ¡ctica: introducciÃ³n, explicaciÃ³n con cÃ³digo, errores tÃ­picos, checklist y siguientes pasos.</p>
      <pre><code>payload = {"model": "qwen2.5:7b-instruct-q4_0", "prompt": prompt,
           "options": {"temperature": 0.7, "num_ctx": 8192}}</code></pre>
    </section>

    <!-- Paso 4 -->
    <section class="flex fd-col g-10">
      <h3 class="fs-18">4. CachÃ© + SQLite</h3>
      <p class="ta-justify lh-24">Cada respuesta se guarda en <code>.cache_articulos/</code> como JSON (tÃ­tulo, categorÃ­a, modelo, fecha, contenido). Luego se inserta en SQLite con deduplicaciÃ³n por (tÃ­tulo, categorÃ­a). Si el script se relanza, la cachÃ© evita re-generaciÃ³n.</p>
    </section>

  </main>

  <footer class="w-900">Â© 2026 â€” Proyecto intermodular Â· Generador de blog con IA</footer>

</body>
</html>
